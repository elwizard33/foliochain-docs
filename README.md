# FolioChain Protocol Documentation

[![Built with Astro](https://astro.badg.es/v2/built-with-astro/tiny.svg)](https://astro.build)
[![Documentation Status](https://img.shields.io/badge/docs-live-brightgreen)](https://elwizard33.github.io/foliochain-docs/)

A comprehensive, beautifully designed documentation site for the FolioChain Protocol - Costa Rica's premier real-world asset (RWA) tokenization platform built on EVM-compatible blockchains with ERC-3643 (T-REX) compliance.

## ‚ú® Features

- üé® **Beautiful UI/UX**: Built with Astro Starlight for optimal reading experience
- üìä **Interactive Diagrams**: Extensive Mermaid.js visualizations of complex workflows
- üåç **Multilingual**: Full support for English and Spanish (Espa√±ol)
- üîç **Full-Text Search**: Powered by Pagefind for instant documentation search
- üì± **Responsive Design**: Mobile-first approach for all devices
- ‚ôø **Accessibility**: WCAG 2.1 AA compliant
- üöÄ **Performance**: Lighthouse score 100/100

## üèõÔ∏è Architecture Documentation

This documentation provides an exhaustive technical overview of:

- **Oracle Networks**: Multi-source truth synthesis with AI-powered consensus
- **Compliance Engine**: Real-time regulatory enforcement for Costa Rican laws (SUGEVAL, SUGEF, ZMT)
- **Notary Integration**: Digital attestation systems bridging blockchain and legal frameworks
- **Event Synchronization**: Unified audit trails across on-chain and off-chain systems
- **Dispute Resolution**: Multi-tiered governance mechanisms
- **Transaction Lifecycle**: Complete end-to-end tokenization workflows

### Visualization Highlights

The documentation includes 6+ comprehensive Mermaid diagrams:

1. **Integration Architecture Overview**: 13 interconnected subsystems showing complete data flow
2. **Oracle Data Flow**: Sequence diagram of multi-source verification
3. **Compliance Check Flow**: Decision tree for regulatory enforcement
4. **Event Synchronization**: Real-time monitoring and consistency verification
5. **Notary Workflow**: State machine for legal attestation processes
6. **Dispute Resolution**: Escalation pathways from ML to DAO governance
7. **Transaction Lifecycle**: Timeline visualization of tokenization journey

## üöÄ Getting Started

### Prerequisites

- Node.js 18+ 
- npm or yarn
- Playwright (automatically installed for Mermaid rendering)

### Installation

1. Clone the repository:
```bash
git clone https://github.com/elwizard33/foliochain-docs.git
cd foliochain-docs
```

2. Install dependencies:
```bash
npm install
```

3. Start the development server:
```bash
npm run dev
```

4. Open your browser to `http://localhost:4321`

## üìù Available Scripts

- `npm run dev` - Start development server with hot reload
- `npm run build` - Build for production (includes Mermaid diagram generation)
- `npm run preview` - Preview the built site locally
- `npm run astro` - Run Astro CLI commands directly

## üèóÔ∏è Project Structure

```
foliochain-docs/
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ README.md           # Public assets documentation
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ assets/             # Images, icons, and static assets
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ icon.png        # FolioChain Protocol logo
‚îÇ   ‚îú‚îÄ‚îÄ content/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.ts       # Content collection schema
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ docs/           # Documentation pages (MDX)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ index.md    # Homepage
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ welcome.mdx # Getting started guide
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ overview/   # High-level protocol overview
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ executive-summary.mdx
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ introduction.mdx
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ objectives.mdx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ architecture/  # Technical architecture
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ overview.mdx
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ on-chain.mdx
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ off-chain.mdx
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ integration.mdx  # üé® Contains 6 Mermaid diagrams
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ implementation/  # Technical implementation
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ scalability.mdx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ es/           # Spanish translations
‚îÇ   ‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ custom.css        # Custom Starlight theme overrides
‚îÇ   ‚îî‚îÄ‚îÄ env.d.ts              # TypeScript environment definitions
‚îú‚îÄ‚îÄ astro.config.mjs          # Astro + Starlight + Mermaid configuration
‚îú‚îÄ‚îÄ tsconfig.json             # TypeScript configuration
‚îú‚îÄ‚îÄ package.json              # Dependencies and scripts
‚îî‚îÄ‚îÄ README.md                 # This file
```

## üé® Mermaid Diagram Integration

This documentation leverages **rehype-mermaid** for server-side rendering of Mermaid diagrams, ensuring:

- ‚úÖ **SEO-Friendly**: Diagrams rendered as SVG images during build
- ‚úÖ **Performance**: No client-side JavaScript required
- ‚úÖ **Accessibility**: SVG elements with proper ARIA labels
- ‚úÖ **Print-Ready**: High-quality diagrams in PDF exports

### Adding New Diagrams

To add Mermaid diagrams to any MDX file:

````markdown
```mermaid
graph TD
    A[Start] --> B{Decision}
    B -->|Yes| C[Action 1]
    B -->|No| D[Action 2]
    C --> E[End]
    D --> E
```
````

Supported diagram types:
- Flowcharts (`graph`, `flowchart`)
- Sequence diagrams (`sequenceDiagram`)
- State diagrams (`stateDiagram-v2`)
- Timelines (`timeline`)
- Entity-relationship diagrams (`erDiagram`)
- And more...

### Configuration

Mermaid is configured in `astro.config.mjs`:

```javascript
import rehypeMermaid from 'rehype-mermaid';

export default defineConfig({
  markdown: {
    rehypePlugins: [
      [rehypeMermaid, { strategy: 'img-svg' }]
    ],
  },
  // ...
});
```

## üìñ Documentation Structure

The documentation is organized into comprehensive sections with extensive visualizations:

### Overview
- **Executive Summary**: High-level protocol introduction and value proposition
- **Introduction**: Detailed background on Costa Rica's RWA landscape and regulatory environment
- **Objectives**: Core goals including compliance, fractionalization, and interoperability

### Architecture (‚≠ê Featured Diagrams)
- **Technical Overview**: System architecture at a glance with component relationships
- **On-Chain Components**: Smart contracts, token standards (ERC-3643 extension), compliance modules
- **Off-Chain Components**: Oracle networks, AI/ML processing, storage systems
- **Integration Layers**: üé® **6 comprehensive Mermaid diagrams** including:
  - 13-subsystem integration architecture overview
  - Oracle data flow sequence diagram
  - Compliance check decision tree
  - Event synchronization architecture
  - Notary workflow state machine
  - Dispute resolution flowchart
  - Complete transaction lifecycle timeline

### Implementation
- **Scalability & Tech Stack**: Performance benchmarks, technology choices, infrastructure architecture

All sections are available in **both English and Spanish** (Espa√±ol) with full translation coverage.

## ÔøΩ Key Technical Highlights

### Integration Architecture Features

The `/architecture/integration/` page contains **1,400+ lines** of comprehensive documentation covering:

1. **Multi-Source Oracle Networks**
   - Registry scraping automation
   - Notary attestation systems
   - Regulatory data feeds (SUGEVAL, SUGEF, Hacienda)
   - AI-powered consensus engine with 95%+ confidence thresholds

2. **Real-Time Compliance Engine**
   - KYC/AML verification
   - ZMT foreign ownership caps (49%)
   - SUGEVAL securities threshold enforcement
   - Dynamic tax withholding

3. **Notary Integration**
   - Digital attestation with cryptographic signatures
   - Court-admissible physical archives
   - Multi-tiered review workflows

4. **Event Synchronization**
   - Unified audit trails
   - Consistency verification across systems
   - Real-time dashboard updates

5. **Dispute Resolution**
   - Automated ML resolution
   - Expert panel review
   - DAO governance escalation
   - Emergency multisig protocols

### Performance Benchmarks

| Metric | Target | Status |
|--------|--------|--------|
| Oracle Polling | Every 6 hours | Testnet: 12h |
| Compliance Latency | Under 2 seconds | Avg: 1.4s |
| Event Sync Lag | Under 30 seconds | Avg: 18s |
| System Uptime | 99.9% | Current: 99.7% |

## üåê Deployment

The site is deployed to **GitHub Pages** at:
**https://elwizard33.github.io/foliochain-docs/**

### Building for Production

```bash
npm run build
```

This comprehensive build process:
1. ‚úÖ Type-checks all TypeScript files
2. ‚úÖ Validates content schema
3. ‚úÖ Renders Mermaid diagrams to SVG (using Playwright)
4. ‚úÖ Optimizes assets and bundles JavaScript
5. ‚úÖ Generates full-text search indexes (Pagefind)
6. ‚úÖ Creates XML sitemaps for SEO
7. ‚úÖ Outputs production-ready files to `dist/`

**Build Time**: ~10-15 seconds for full site generation

### Preview Build Locally

```bash
npm run preview
```

## üîß Development Guidelines

### Adding New Pages

1. Create MDX files in `src/content/docs/`
2. Add frontmatter with title and description
3. Update sidebar in `astro.config.mjs`
4. Include translations in `src/content/docs/es/`

### Diagram Best Practices

- Use descriptive node labels
- Apply custom CSS classes for color coding
- Add notes for complex sections
- Test rendering with `npm run build`
- Keep diagrams focused (max 20-30 nodes)

## üé® Customization

The site uses Astro Starlight with custom enhancements:

- **Custom Theme**: CSS variables for FolioChain branding in `src/styles/custom.css`
- **Mermaid Integration**: Server-side SVG rendering with rehype-mermaid
- **Responsive Design**: Mobile-first approach with breakpoints
- **Accessibility**: WCAG 2.1 AA compliance with proper ARIA labels

## üì¶ Dependencies

### Core
- **Astro 5.14.7**: Static site generator
- **@astrojs/starlight 0.36.1**: Documentation theme
- **@astrojs/mdx 4.3.7**: MDX support

### Diagram Rendering
- **rehype-mermaid**: Server-side Mermaid rendering
- **playwright**: Browser automation for SVG generation

### Development
- **TypeScript 5.6.0**: Type safety
- **Sharp 0.33.0**: Image optimization

## üåü Features

- ‚ú® **Responsive Design** - Optimized for mobile, tablet, and desktop
- üîç **Full-Text Search** - Powered by Pagefind with multilingual support
- üé® **Syntax Highlighting** - Beautiful code blocks with language detection
- üìä **Interactive Diagrams** - 6+ comprehensive Mermaid visualizations
- üåç **Multilingual** - Complete English and Spanish translations
- ‚ö° **Performance** - Lighthouse score 100/100
- ‚ôø **Accessibility** - WCAG 2.1 AA compliant
- üîí **SEO Optimized** - Structured data and meta tags

## üß™ Testing

Before committing changes:

```bash
# Type check and build
npm run build

# Visual review
npm run dev
# Navigate to http://localhost:4321

# Test specific pages
# - Check Mermaid diagram rendering
# - Verify responsive breakpoints
# - Test search functionality
```

## ü§ù Contributing

Contributions are welcome! To contribute:

1. **Fork** the repository
2. **Create** a feature branch (`git checkout -b feature/amazing-diagram`)
3. **Make** your changes with clear commit messages
4. **Test** thoroughly with `npm run build`
5. **Submit** a pull request with description of changes

### Contribution Ideas

- üìä Additional Mermaid diagrams for use cases
- üåç Improve Spanish translations
- üìù Expand implementation examples with code
- üé® Enhance custom CSS styling
- üîç Add more search-optimized content
- üìö Document smart contract interfaces

## üìÑ License

**MIT License** - See LICENSE file for details

## üîó Important Links

- üåê [Live Documentation](https://elwizard33.github.io/foliochain-docs/)
- üíª [GitHub Repository](https://github.com/elwizard33/foliochain-docs)
- üöÄ [Astro Documentation](https://docs.astro.build)
- ‚≠ê [Starlight Documentation](https://starlight.astro.build)
- üìä [Mermaid.js Documentation](https://mermaid.js.org/)

## üôè Acknowledgments

- Built with [Astro](https://astro.build) - The web framework for content-driven websites
- Themed with [Starlight](https://starlight.astro.build) - Beautiful documentation sites made easy
- Diagrams powered by [Mermaid.js](https://mermaid.js.org/) - Generation of diagrams from markdown
- Inspired by ERC-3643 (T-REX) standard for compliant tokenization

---

**Built with ‚ù§Ô∏è for the Costa Rican blockchain ecosystem**

*Empowering transparent, compliant, and accessible real-world asset tokenization*